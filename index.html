<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>Instagram Clone</title>
    <link rel="stylesheet" href="./css/style.css" />
    <link rel="stylesheet" href="/css/my.css">
  </head>
  <body>
    <div class="container">
      <!-- Sidebar -->
      <aside class="sidebar">
        <h2 class="logo">Instagram</h2>
        <nav>
          <ul>
            <li>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                viewBox="0 0 20 20"
                fill="none"
              >
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M8.75984 0.559247C9.47514 -0.186415 10.683 -0.186416 11.3983 0.559247L19.5076 9.01269C19.8239 9.3424 20 9.77811 20 10.2309V18.2226C20 19.2042 19.1889 20 18.1884 20H13.6736C12.6731 20 11.862 19.2042 11.862 18.2226V13.8417L11.8619 13.8392C11.8616 13.8322 11.861 13.8177 11.8593 13.7966C11.856 13.7542 11.8489 13.6873 11.8339 13.6045C11.8032 13.435 11.7434 13.2211 11.6324 13.0171C11.524 12.8176 11.3723 12.6366 11.1534 12.5023C10.9374 12.3699 10.6043 12.251 10.0791 12.251C8.78724 12.251 8.35694 12.7269 8.17912 13.0358C8.07054 13.2245 8.01835 13.4214 7.99503 13.5777C7.98363 13.6541 7.97996 13.7152 7.97893 13.753C7.97843 13.7712 7.97855 13.7834 7.97866 13.7886L7.97987 13.8075V18.2226C7.97987 19.2042 7.16877 20 6.16822 20H1.81165C0.811101 20 0 19.2042 0 18.2226V10.3958C0 9.94298 0.176116 9.50727 0.492405 9.17756L8.75984 0.559247ZM12.7678 13.8354H13.6736V18.2226H18.1884V10.2309L10.0791 1.77744L1.81165 10.3958L1.81165 18.2226L6.16822 18.2226V13.8544C6.16792 13.8461 6.16764 13.8367 6.16742 13.8262C6.16675 13.7949 6.16659 13.7541 6.16793 13.7052C6.17061 13.6077 6.17929 13.4757 6.20249 13.3202C6.24837 13.0128 6.35433 12.5915 6.60162 12.1618C7.13551 11.2342 8.20773 10.4736 10.0791 10.4736C10.8983 10.4736 11.5734 10.6638 12.1136 10.9951C12.6509 11.3245 13.0033 11.7618 13.231 12.1806C13.4561 12.5948 13.5643 12.9992 13.6176 13.2934C13.6446 13.4424 13.6585 13.5688 13.6657 13.6616C13.6694 13.7081 13.6713 13.7467 13.6724 13.776C13.6729 13.7907 13.6732 13.8031 13.6734 13.813L13.6736 13.8261L13.6736 13.8312L13.6736 13.8334L13.6736 13.8344C13.6736 13.8344 13.6736 13.8354 12.7678 13.8354Z"
                  fill="white"
                />
              </svg>
              <span>í™ˆ</span>
            </li>
            <li>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
              >
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M15.4673 16.68C14.0158 17.8637 12.1625 18.5736 10.1435 18.5736C5.48794 18.5736 1.71387 14.7995 1.71387 10.144C1.71387 5.48843 5.48794 1.71436 10.1435 1.71436C14.799 1.71436 18.5731 5.48843 18.5731 10.144C18.5731 12.163 17.8633 14.0163 16.6795 15.4678L21.2082 19.9966C21.543 20.3313 21.543 20.874 21.2082 21.2087C20.8735 21.5435 20.3308 21.5435 19.9961 21.2087L15.4673 16.68ZM16.8588 10.144C16.8588 13.8528 13.8523 16.8593 10.1435 16.8593C6.43471 16.8593 3.42815 13.8528 3.42815 10.144C3.42815 6.4352 6.43471 3.42864 10.1435 3.42864C13.8523 3.42864 16.8588 6.4352 16.8588 10.144Z"
                  fill="white"
                />
              </svg>
              <span>ê²€ìƒ‰</span>
            </li>
            <li>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="26"
                height="26"
                viewBox="0 0 26 26"
                fill="none"
              >
                <path
                  d="M12.1417 11.9718C11.5314 11.6384 10.7846 12.0695 10.7682 12.7649L10.6551 17.5675C10.638 18.2919 11.4202 18.7558 12.0477 18.3935L16.3766 15.8942C17.0041 15.532 16.9934 14.6226 16.3575 14.2752L12.1417 11.9718Z"
                  fill="white"
                />
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M9.28613 2.78564C5.69628 2.78564 2.78613 5.69579 2.78613 9.28564V16.7142C2.78613 20.3041 5.69628 23.2142 9.28613 23.2142H16.7147C20.3046 23.2142 23.2147 20.3041 23.2147 16.7142V9.28564C23.2147 5.69579 20.3046 2.78564 16.7147 2.78564H9.28613ZM16.7147 4.64279H16.0083L16.5588 5.56037L17.7087 7.53169H21.0148C20.3229 5.83701 18.6583 4.64279 16.7147 4.64279ZM10.0743 4.64279H13.8425L14.9575 6.50109L15.5587 7.53169H11.7774L10.7221 5.7225L10.0743 4.64279ZM4.986 7.53169C5.52094 6.22154 6.63722 5.21051 8.01429 4.81914L9.12075 6.66324L9.62735 7.53169H4.986ZM4.64328 16.7142V9.38883H10.7107L10.7207 9.40596L10.75 9.38883H21.3576V16.7142C21.3576 19.2784 19.2789 21.3571 16.7147 21.3571H9.28613C6.72195 21.3571 4.64328 19.2784 4.64328 16.7142Z"
                  fill="white"
                />
              </svg>
              <span>ë¦´ìŠ¤</span>
            </li>
            <li>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                viewBox="0 0 20 20"
                fill="none"
              >
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M1.41442 5.41521C-0.420871 6.02932 -0.486878 8.60094 1.3145 9.30838L7.87927 11.8865C7.98651 11.9286 8.07137 12.0135 8.11349 12.1207L10.6916 18.6855C11.3991 20.4869 13.9707 20.4209 14.5848 18.5856L19.8893 2.73286C20.4318 1.11174 18.8883 -0.43176 17.2671 0.110687L1.41442 5.41521ZM1.92037 7.76564C1.5601 7.62415 1.5733 7.10983 1.94036 6.987L16.5401 2.10176L8.35081 10.291L1.92037 7.76564ZM9.60029 11.3855C9.62034 11.4278 9.639 11.471 9.65623 11.5149L12.2344 18.0796C12.3758 18.4399 12.8902 18.4267 13.013 18.0596L18.0855 2.90031L9.60029 11.3855Z"
                  fill="white"
                />
              </svg>
              <span>ë©”ì„¸ì§€</span>
            </li>
            <li>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="22"
                height="22"
                viewBox="0 0 22 22"
                fill="none"
              >
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M10.9999 6.74307C10.3609 6.74307 9.7855 6.3561 9.54451 5.76425C9.54524 5.76603 9.54476 5.76516 9.5429 5.76179C9.53167 5.74135 9.46995 5.62902 9.31921 5.45713C9.15694 5.2721 8.93135 5.06425 8.65038 4.87763C8.09595 4.50939 7.36221 4.24425 6.46207 4.34197C5.14646 4.48479 4.33573 5.10763 3.83328 5.86615C3.2985 6.67349 3.09389 7.67505 3.15229 8.47413C3.21356 9.31246 3.30962 9.96069 3.75396 10.7953C4.22686 11.6836 5.14431 12.8697 7.03237 14.6085C8.81586 16.251 10.0633 17.3198 10.858 17.9637C10.9251 18.0181 10.9742 18.0251 10.9999 18.0251C11.0257 18.0251 11.0748 18.0181 11.1419 17.9637C11.9366 17.3198 13.184 16.251 14.9675 14.6085C16.8555 12.8697 17.773 11.6836 18.2459 10.7953C18.6902 9.96069 18.7863 9.31246 18.8476 8.47413C18.9057 7.67841 18.6993 6.67681 18.162 5.86765C17.6565 5.10645 16.8443 4.48438 15.5371 4.34189C14.7761 4.25893 14.0352 4.50536 13.4118 4.90278C13.1043 5.09879 12.8524 5.31529 12.6727 5.50499C12.5065 5.68051 12.4513 5.78028 12.4495 5.77933C12.4491 5.77912 12.4513 5.77418 12.4553 5.76425C12.2143 6.3561 11.6389 6.74307 10.9999 6.74307ZM9.94191 3.88139C10.5047 4.34509 10.8681 4.84786 10.9999 5.17164C11.1293 4.85396 11.5183 4.3678 12.0928 3.91455C12.9602 3.23021 14.2503 2.62089 15.7074 2.77972C19.3051 3.17189 20.5771 6.3676 20.4148 8.58867C20.2779 10.4625 19.9278 12.1766 16.032 15.7644C14.2316 17.4225 12.9585 18.5143 12.1312 19.1846C11.4535 19.7338 10.5465 19.7338 9.8687 19.1846C9.04141 18.5143 7.76823 17.4225 5.96782 15.7644C2.07202 12.1766 1.72198 10.4625 1.58504 8.58867C1.42272 6.3676 2.67999 3.17189 6.29248 2.77972C7.86889 2.60858 9.11875 3.2032 9.94191 3.88139Z"
                  fill="white"
                />
              </svg>
              <span>ì•Œë¦¼</span>
            </li>
            <li>
              <a href="add.html" style="color: inherit; text-decoration: none"
                ><svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="25"
                  height="25"
                  viewBox="0 0 25 25"
                  fill="none"
                >
                  <path
                    d="M13.2727 7.58003C13.2727 7.08691 12.8729 6.68717 12.3798 6.68717C11.8867 6.68717 11.487 7.08691 11.487 7.58003V11.5979L7.4691 11.5979C6.97599 11.5979 6.57624 11.9976 6.57624 12.4907C6.57624 12.9839 6.97599 13.3836 7.4691 13.3836L11.487 13.3836V17.4015C11.487 17.8946 11.8867 18.2943 12.3798 18.2943C12.8729 18.2943 13.2727 17.8946 13.2727 17.4015V13.3836H17.2905C17.7836 13.3836 18.1834 12.9839 18.1834 12.4907C18.1834 11.9976 17.7836 11.5979 17.2905 11.5979H13.2727V7.58003Z"
                    fill="white"
                  />
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M2.67871 8.03561C2.67871 5.07694 5.07719 2.67847 8.03585 2.67847H16.9644C19.9231 2.67847 22.3216 5.07694 22.3216 8.03561V16.9642C22.3216 19.9228 19.9231 22.3213 16.9644 22.3213H8.03585C5.07719 22.3213 2.67871 19.9228 2.67871 16.9642V8.03561ZM8.03585 4.46418H16.9644C18.9369 4.46418 20.5359 6.06316 20.5359 8.03561V16.9642C20.5359 18.9366 18.9369 20.5356 16.9644 20.5356H8.03585C6.06341 20.5356 4.46443 18.9366 4.46443 16.9642V8.03561C4.46443 6.06316 6.06341 4.46418 8.03585 4.46418Z"
                    fill="white"
                  />
                </svg>
                <span>ë§Œë“¤ê¸°</span>
              </a>
            </li>
            <li><a href="./js_dynamic.html"><img href src="./img/avatar.svg" /><span>js_dynamic.html</span></a></li>
          </ul>
        </nav>
      </aside>

      <!-- Main -->
      <main class="main">
        <!-- Profile section -->
        <section class="profile">
          <div class="avatar"></div>
          <div class="info">
            <h2>okto.o00o</h2>
            <button class="edit-btn">í”„ë¡œí•„ í¸ì§‘</button>
            <div class="stats">
              <span id="postCount">ê²Œì‹œë¬¼ 0</span>
              <span>íŒ”ë¡œì›Œ 0</span>
              <span>íŒ”ë¡œìš° 0</span>
            </div>
          </div>
        </section>

        <!-- Feed grid -->
        <section class="feed" id="feed">
          <!-- ì €ì¥ëœ ê²Œì‹œë¬¼ì´ ì—¬ê¸°ì— ì±„ì›Œì§ -->
        </section>
      </main>
    </div>

    <script>
      (function mountSaved() {
        const key = "demo_posts";
        const arr = JSON.parse(localStorage.getItem(key) || "[]");
        const grid = document.getElementById("feed");
        const postCount = document.getElementById("postCount");

        postCount.textContent = `ê²Œì‹œë¬¼ ${arr.length}`;

        if (!arr.length) {
          grid.innerHTML = `<div style="color:#aaa; text-align:center; padding:40px;">ì•„ì§ ê²Œì‹œë¬¼ì´ ì—†ìŠµë‹ˆë‹¤.</div>`;
          return;
        }

        // HTML ì´ìŠ¤ì¼€ì´í”„ ìœ í‹¸
        const escapeHTML = (s) =>
          String(s ?? "")
            .replace(/&/g, "&amp;")
            .replace(/</g, "&lt;")
            .replace(/>/g, "&gt;")
            .replace(/"/g, "&quot;")
            .replace(/'/g, "&#39;");

        // style ì†ì„±ìš© URL ì´ìŠ¤ì¼€ì´í”„(ë”°ì˜´í‘œ ë°©ì–´)
        const escAttr = (s) =>
          String(s ?? "")
            .replace(/"/g, "&quot;")
            .replace(/'/g, "&#39;");

        // ë‚ ì§œ ë³´ê¸° ì¢‹ê²Œ í¬ë§·
        const fmtDate = (iso) => {
          if (!iso) return "";
          const d = new Date(iso);
          // ì˜ˆ: 2025. 9. 19. 09:12
          return d.toLocaleString("ko-KR", {
            year: "numeric",
            month: "numeric",
            day: "numeric",
            hour: "2-digit",
            minute: "2-digit",
          });
        };

        arr.forEach((p) => {
          const el = document.createElement("div");
          el.className = "post";
          el.dataset.id = p.id;

          const title = p.title ?? "";
          const desc = p.desc ?? p.description ?? "";
          const loc = p.location ?? "";
          const created = p.createdAt ?? "";

          el.innerHTML = `
    <div class="post-thumb" style="background-image:url('${escAttr(
      p.image
    )}')"></div>
    <div class="post-meta">
      <div class="post-title">${escapeHTML(title)}</div>
      <div class="post-desc">${escapeHTML(desc)}</div>
      <div class="post-tags">ğŸ“… ${escapeHTML(
        fmtDate(created)
      )} Â· ${escapeHTML(loc)}</div>
    </div>
  `;

          grid.prepend(el);
        });

        // ì¹´ë“œ í´ë¦­ â†’ view.html?id=...
        grid.addEventListener("click", (e) => {
          const card = e.target.closest(".post");
          if (!card) return;
          location.href = `view.html?id=${encodeURIComponent(card.dataset.id)}`;
        });
      })();
    </script>
  </body>
</html>
